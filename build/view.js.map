{"version":3,"file":"view.js","mappings":";;;;;AAAA;AACA;AACA;AACA;;AAEA,MAAMA,eAAe,GAAIC,OAAO,IAAK;EAEnC,MAAMC,IAAI,GAAGD,OAAO,CAACE,OAAO,CAACD,IAAI;EACjC,MAAME,IAAI,GAAGH,OAAO,CAACI,aAAa,CAAC,OAAO,CAAC;EAE3C,IAAIC,SAAS,CAACC,SAAS,EAAE;IACvBD,SAAS,CAACC,SAAS,CAACC,SAAS,CAACN,IAAI,CAAC,CAChCO,IAAI,CAAC,MAAM;MAEV,MAAMC,SAAS,GAAGT,OAAO,CAACI,aAAa,CAAC,UAAU,CAAC;MAEnDD,IAAI,CAACO,KAAK,CAACC,OAAO,GAAG,MAAM;MAC3BF,SAAS,CAACC,KAAK,CAACC,OAAO,GAAG,cAAc;MAExCC,UAAU,CAAC,MAAM;QACfT,IAAI,CAACO,KAAK,CAACC,OAAO,GAAG,cAAc;QACnCF,SAAS,CAACC,KAAK,CAACC,OAAO,GAAG,MAAM;MAClC,CAAC,EAAE,IAAI,CAAC;IACV,CAAC,CAAC,CACDE,KAAK,CAAEC,KAAK,IAAK;MAEhB,MAAMC,OAAO,GAAGf,OAAO,CAACI,aAAa,CAAC,QAAQ,CAAC;MAE/CD,IAAI,CAACO,KAAK,CAACC,OAAO,GAAG,MAAM;MAC3BI,OAAO,CAACL,KAAK,CAACC,OAAO,GAAG,cAAc;MAEtCC,UAAU,CAAC,MAAM;QACfT,IAAI,CAACO,KAAK,CAACC,OAAO,GAAG,cAAc;QACnCI,OAAO,CAACL,KAAK,CAACC,OAAO,GAAG,MAAM;MAChC,CAAC,EAAE,IAAI,CAAC;MAER,IAAIK,MAAM,EAAE;QACVA,MAAM,CAACC,GAAG,CAAC,6BAA6B,EAAE;UACxCC,KAAK,EAAE,SAAS;UAChBC,IAAI,EAAE;YAAEL,KAAK,EAAEA;UAAM;QACvB,CAAC,CAAC;MACJ;IACF,CAAC,CAAC;EACN,CAAC,MAAM;IACL;IACA,MAAMM,KAAK,GAAGC,QAAQ,CAACC,aAAa,CAAC,OAAO,CAAC;IAC7CF,KAAK,CAACG,KAAK,GAAGtB,IAAI;IAElBoB,QAAQ,CAACG,IAAI,CAACC,WAAW,CAACL,KAAK,CAAC;IAEhCA,KAAK,CAACM,MAAM,CAAC,CAAC;IACdL,QAAQ,CAACM,WAAW,CAAC,MAAM,CAAC;IAE5BN,QAAQ,CAACG,IAAI,CAACI,WAAW,CAACR,KAAK,CAAC;EAClC;AACF,CAAC;AAGDC,QAAQ,CAACQ,gBAAgB,CAAC,0CAA0C,CAAC,CAACC,OAAO,CAAC,UAAUC,IAAI,EAAE;EAC5FA,IAAI,CAACC,gBAAgB,CAAC,OAAO,EAAE,UAAUC,CAAC,EAAE;IAC1CA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClBnC,eAAe,CAAC,IAAI,CAAC;EACvB,CAAC,CAAC;AACJ,CAAC,CAAC,C","sources":["webpack://@johnshopkins/color-block/./src/view.js"],"sourcesContent":["/**\n * Use this file for JavaScript code that you want to run in the front-end\n * on posts/pages that contain this block.\n */\n\nconst copyToClipboard = (element) => {\n\n  const text = element.dataset.text;\n  const copy = element.querySelector('.copy');\n\n  if (navigator.clipboard) {\n    navigator.clipboard.writeText(text)\n      .then(() => {\n\n        const successEl = element.querySelector('.success');\n\n        copy.style.display = 'none';\n        successEl.style.display = 'inline-block';\n\n        setTimeout(() => {\n          copy.style.display = 'inline-block';\n          successEl.style.display = 'none';\n        }, 1200);\n      })\n      .catch((error) => {\n\n        const errorEl = element.querySelector('.error');\n\n        copy.style.display = 'none';\n        errorEl.style.display = 'inline-block';\n\n        setTimeout(() => {\n          copy.style.display = 'inline-block';\n          errorEl.style.display = 'none';\n        }, 1200);\n\n        if (logger) {\n          logger.log('Unable to copy to clipboard', {\n            level: 'warning',\n            data: { error: error }\n          });\n        }\n      });\n  } else {\n    // for older browsers\n    const input = document.createElement('input');\n    input.value = text;\n\n    document.body.appendChild(input);\n\n    input.select();\n    document.execCommand('copy');\n\n    document.body.removeChild(input);\n  }\n};\n\n\ndocument.querySelectorAll('.wp-block-jhu-color-block .click-to-copy').forEach(function (elem) {\n  elem.addEventListener('click', function (e) {\n    e.preventDefault();\n    copyToClipboard(this);\n  });\n});\n"],"names":["copyToClipboard","element","text","dataset","copy","querySelector","navigator","clipboard","writeText","then","successEl","style","display","setTimeout","catch","error","errorEl","logger","log","level","data","input","document","createElement","value","body","appendChild","select","execCommand","removeChild","querySelectorAll","forEach","elem","addEventListener","e","preventDefault"],"sourceRoot":""}